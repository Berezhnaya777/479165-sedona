var appointment=document.querySelector(".button-appointment"),popup=document.querySelector(".modal"),form=popup.querySelector(".appointment-form"),dateArrive=popup.querySelector("[name=date-arrive]"),dateLeave=popup.querySelector("[name=date-leave]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("grownup")}catch(e){isStorageSupport=!1}try{storage=localStorage.getItem("children")}catch(e){isStorageSupport=!1}popup.classList.add("modal-show"),appointment.addEventListener("click",function(e){e.preventDefault(),popup.classList.toggle("modal-show"),popup.classList.remove("modal-error"),dateArrive.focus(),storage&&(grownup.value=storage,children.value=storage)}),form.addEventListener("submit",function(e){dateArrive.value&&dateLeave.value?isStorageSupport&&(localStorage.setItem("grownup",grownup.value),localStorage.setItem("children",children.value)):(e.preventDefault(),popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error")))});
